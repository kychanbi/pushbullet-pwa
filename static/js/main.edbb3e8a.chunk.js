(this["webpackJsonppushbullet-pwa"]=this["webpackJsonppushbullet-pwa"]||[]).push([[0],{144:function(e,t,n){e.exports=n(174)},149:function(e,t,n){},173:function(e,t,n){},174:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"fetchAndSetAllPushes",(function(){return S})),n.d(a,"setAccessToken",(function(){return g})),n.d(a,"setMainUi",(function(){return w})),n.d(a,"onSidebarShow",(function(){return O})),n.d(a,"onSidebarHide",(function(){return x})),n.d(a,"initApp",(function(){return C}));var r={};n.r(r),n.d(r,"getPushes",(function(){return y}));var c=n(0),o=n.n(c),l=n(72),i=n.n(l),s=(n(149),n(133)),u=n(204),m=n(41),f=n(201),p=n(183),d=n(202),h=n(199),b=n(62),E=n(47),v=n.n(E),k=n(80),S=function(){var e=Object(k.a)(v.a.mark((function e(t){var n,a,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.state.accessToken,console.log("fetchAndSetAllPushes",n),!n){e.next=8;break}return e.next=5,t.effects.getPushes(n);case 5:r=e.sent,console.log(r),t.state.pushes=null!==(a=null===r||void 0===r?void 0:r.pushes)&&void 0!==a?a:[];case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(e,t){e.state.accessToken=t,localStorage.setItem("accessToken",t)},w=function(e,t){var n=t.key,a=t.value;e.state.mainUi[n]=a},O=function(e){w(e,{key:"isSidebarOpen",value:!0})},x=function(e){w(e,{key:"isSidebarOpen",value:!1})},C=function(e){e.state.accessToken=localStorage.accessToken},j=n(126),A=n.n(j),T="https://api.pushbullet.com/v2",y=function(){var e=Object(k.a)(v.a.mark((function e(t){var n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={"Access-Token":t},e.prev=1,e.next=4,A.a.get("".concat(T,"/pushes"),{headers:n});case 4:return a=e.sent,e.abrupt("return",a.data);case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0.response),alert(e.t0.response.data.error.message);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),W={state:{pushes:[],accessToken:"",mainUi:{isSidebarOpen:!1}},actions:a,effects:r},P=Object(b.e)(),z=Object(b.b)(),H=(Object(b.c)(),Object(b.d)(),n(189)),U=n(187),B=n(188);function D(e){var t=new Date(1e3*e);return"".concat(t.toLocaleDateString(I()),"  ").concat(t.toLocaleTimeString(I()))}function I(){if(void 0!=navigator.languages)return navigator.languages[0]}var R,J=function(e){var t=e.url,n=e.title,a=D(e.modified);return o.a.createElement(p.a,{borderWidth:1,w:"100%",borderRadius:"lg",p:"0.5em 1em",borderColor:"blue.200"},o.a.createElement(U.a,{href:t,isExternal:!0,color:"blue.400"},t),o.a.createElement(B.a,null,n),o.a.createElement(B.a,{fontSize:"xs",float:"right"},a))},L=function(e){var t=e.body,n=D(e.modified);return o.a.createElement(p.a,{borderWidth:1,w:"100%",borderRadius:"lg",p:"0.5em 1em",borderColor:"blue.100"},o.a.createElement(B.a,null,t),o.a.createElement(B.a,{fontSize:"xs",float:"right"},n))};!function(e){e.link="link",e.note="note"}(R||(R={}));var M=function(e){switch(e.type){case R.link:return o.a.createElement(J,e);case R.note:return o.a.createElement(L,e)}},F=function(e){var t=e.messages;return o.a.createElement(f.a,{maxW:"100%",p:"0.5em"},t.map((function(e,t){return o.a.createElement(M,Object.assign({key:"push"+t},e))})))},N="/setting",V="/",$=[{path:N,exact:!0,comp:function(){var e=P().accessToken,t=z().setAccessToken;return o.a.createElement(p.a,{px:"0.5em"},o.a.createElement(d.a,null,"Access Token"),o.a.createElement(h.a,{borderColor:"teal",borderRadius:6,borderWidth:1,p:1,defaultValue:e||"input here",onChange:t},o.a.createElement(h.c,null),o.a.createElement(h.b,null)))}},{path:V,exact:!0,comp:function(){var e=z().fetchAndSetAllPushes,t=P(),n=t.pushes,a=t.accessToken;return Object(c.useEffect)((function(){e()}),[a]),o.a.createElement(H.a,{maxW:"100vw"},o.a.createElement(F,{messages:n}))}}],_=n(18),q=function(e){var t=e.to,n=e.Component,a=Object(_.f)();return o.a.createElement(n,{onClick:function(e){e.preventDefault(),a.push(t)}})},G=n(190),K=(n(173),function(e){var t=e.onClick;return o.a.createElement(s.a,{colorScheme:"whatsapp",onClick:t,w:"100%"},"Setting")}),Q=function(e){var t=e.onClick;return o.a.createElement(s.a,{colorScheme:"whatsapp",onClick:t,w:"100%"},"Home")},X=function(e){var t=e.onClick;return o.a.createElement("div",{onClick:t,className:"sidebarCloseBtn"},o.a.createElement(G.a,{fontSize:"3em"}))},Y=function(e){var t=e.isSidebarOpen,n=e.onSidebarHide;return o.a.createElement(o.a.Fragment,null,o.a.createElement(u.a,{isOpen:t,placement:"left",onClose:n},o.a.createElement(m.d,null,o.a.createElement(u.b,null,o.a.createElement(m.b,null,o.a.createElement(f.a,{zIndex:1,position:"relative"},o.a.createElement(q,{to:V,Component:Q}),o.a.createElement(q,{to:N,Component:K})),o.a.createElement(X,{onClick:n}))))))},Z=n(191),ee=n(192),te=n(194),ne=n(195),ae=n(193),re=function(e){var t=e.isSidebarOpen,n=e.onShowSidebar;return o.a.createElement(Z.a,null,o.a.createElement(p.a,{flex:1},t||o.a.createElement(ee.a,{icon:o.a.createElement(ae.a,{w:8,h:8}),colorScheme:"whatsapp",variant:"outline",onClick:n,"aria-label":""})),o.a.createElement(te.a,{flex:2.5,h:"3em"},o.a.createElement(ne.a,{color:"green",fontSize:"lg"},"Pushbullet PWA (unofficial)")),o.a.createElement(p.a,{flex:1}))},ce=n(94);var oe=function(){var e=P().mainUi,t=z(),n=t.onSidebarShow,a=t.onSidebarHide,r=t.initApp;return Object(c.useEffect)((function(){r()}),[]),o.a.createElement(ce.a,null,o.a.createElement(Y,{isSidebarOpen:e.isSidebarOpen,onSidebarHide:a}),o.a.createElement(p.a,null,o.a.createElement(re,{onShowSidebar:n,isSidebarOpen:e.isSidebarOpen})),o.a.createElement(_.c,null,$.map((function(e,t){return o.a.createElement(_.a,{key:"route_"+t,path:e.path,exact:e.exact,component:e.comp})}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var le=n(49),ie=n(197),se=n(196),ue=Object(se.a)({sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"}),me=Object(ie.a)({breakpoints:ue}),fe=n(200),pe=Object(le.d)(W);i.a.render(o.a.createElement(b.a,{value:pe},o.a.createElement(fe.a,{theme:me},o.a.createElement(o.a.StrictMode,null,o.a.createElement(oe,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[144,1,2]]]);
//# sourceMappingURL=main.edbb3e8a.chunk.js.map