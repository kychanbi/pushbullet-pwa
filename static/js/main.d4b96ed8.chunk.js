(this["webpackJsonppushbullet-pwa"]=this["webpackJsonppushbullet-pwa"]||[]).push([[0],{145:function(e,t,n){e.exports=n(175)},150:function(e,t,n){},174:function(e,t,n){},175:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"fetchAndSetAllPushes",(function(){return k})),n.d(a,"setAccessToken",(function(){return S})),n.d(a,"setMainUi",(function(){return w})),n.d(a,"onSidebarShow",(function(){return O})),n.d(a,"onSidebarHide",(function(){return x})),n.d(a,"initApp",(function(){return C}));var r={};n.r(r),n.d(r,"getPushes",(function(){return y}));var c=n(0),o=n.n(c),l=n(72),i=n.n(l),s=(n(150),n(136)),u=n(207),m=n(41),f=n(203),p=n(184),d=n(204),h=n(201),E=n(63),b=n(47),v=n.n(b),g=n(80),k=function(){var e=Object(g.a)(v.a.mark((function e(t){var n,a,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.state.accessToken,console.log("fetchAndSetAllPushes",n),!n){e.next=8;break}return e.next=5,t.effects.getPushes(n);case 5:r=e.sent,console.log(r),t.state.pushes=null!==(a=null===r||void 0===r?void 0:r.pushes)&&void 0!==a?a:[];case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(e,t){e.state.accessToken=t,localStorage.setItem("accessToken",t)},w=function(e,t){var n=t.key,a=t.value;e.state.mainUi[n]=a},O=function(e){w(e,{key:"isSidebarOpen",value:!0})},x=function(e){w(e,{key:"isSidebarOpen",value:!1})},C=function(e){e.state.accessToken=localStorage.accessToken},j=n(128),A=n.n(j),T="https://api.pushbullet.com/v2",y=function(){var e=Object(g.a)(v.a.mark((function e(t){var n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={"Access-Token":t},e.prev=1,e.next=4,A.a.get("".concat(T,"/pushes"),{headers:n});case 4:return a=e.sent,e.abrupt("return",a.data);case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0.response),alert(e.t0.response.data.error.message);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),P={state:{pushes:[],accessToken:"",mainUi:{isSidebarOpen:!1}},actions:a,effects:r},W=Object(E.e)(),z=Object(E.b)(),H=(Object(E.c)(),Object(E.d)(),n(190)),I=n(205),R=n(192),U=n(188),B=n(189);function D(e){var t=new Date(1e3*e);return"".concat(t.toLocaleDateString(J()),"  ").concat(t.toLocaleTimeString(J()))}function J(){if(void 0!=navigator.languages)return navigator.languages[0]}var L,M=function(e){var t=e.url,n=e.title,a=D(e.modified);return o.a.createElement(p.a,{borderWidth:1,w:"100%",borderRadius:"lg",p:"0.5em 1em",borderColor:"blue.200"},o.a.createElement(U.a,{href:t,isExternal:!0,color:"blue.400"},t),o.a.createElement(B.a,null,n),o.a.createElement(B.a,{fontSize:"xs",float:"right"},a))},F=function(e){var t=e.body,n=D(e.modified);return o.a.createElement(p.a,{borderWidth:1,w:"100%",borderRadius:"lg",p:"0.5em 1em",borderColor:"blue.100"},o.a.createElement(B.a,null,t),o.a.createElement(B.a,{fontSize:"xs",float:"right"},n))};!function(e){e.link="link",e.note="note"}(L||(L={}));var N=function(e){switch(e.type){case L.link:return o.a.createElement(M,e);case L.note:return o.a.createElement(F,e)}},V=n(130),$=n(191),_=function(e){var t=e.messages;return o.a.createElement(f.a,{maxW:"100%",p:"0.5em"},o.a.createElement(p.a,{w:"100%"},o.a.createElement(H.a,null,o.a.createElement($.a,null),"Pull down to refresh")),t.map((function(e,t){return o.a.createElement(N,Object.assign({key:"push"+t},e))})))},q=function(){return o.a.createElement(I.a,{isIndeterminate:!0,color:"green.300"})},G="/setting",K="/",Q=[{path:G,exact:!0,comp:function(){var e=W().accessToken,t=z().setAccessToken;return o.a.createElement(p.a,{px:"0.5em"},o.a.createElement(d.a,null,"Access Token"),o.a.createElement(h.a,{borderColor:"teal",borderRadius:6,borderWidth:1,p:1,defaultValue:e||"input here",onChange:t},o.a.createElement(h.c,null),o.a.createElement(h.b,null)))}},{path:K,exact:!0,comp:function(){var e=z().fetchAndSetAllPushes,t=W(),n=t.pushes,a=t.accessToken;return Object(c.useEffect)((function(){e()}),[a]),o.a.createElement(V.a,{onRefresh:e,pullingContent:"",refreshingContent:o.a.createElement(q,null)},o.a.createElement(R.a,{maxW:"100vw"},o.a.createElement(_,{messages:n})))}}],X=n(18),Y=function(e){var t=e.to,n=e.Component,a=Object(X.f)();return o.a.createElement(n,{onClick:function(e){e.preventDefault(),a.push(t)}})},Z=n(193),ee=(n(174),function(e){var t=e.onClick;return o.a.createElement(s.a,{colorScheme:"whatsapp",onClick:t,w:"100%"},"Setting")}),te=function(e){var t=e.onClick;return o.a.createElement(s.a,{colorScheme:"whatsapp",onClick:t,w:"100%"},"Home")},ne=function(e){var t=e.onClick;return o.a.createElement("div",{onClick:t,className:"sidebarCloseBtn"},o.a.createElement(Z.a,{fontSize:"3em"}))},ae=function(e){var t=e.isSidebarOpen,n=e.onSidebarHide;return o.a.createElement(o.a.Fragment,null,o.a.createElement(u.a,{isOpen:t,placement:"left",onClose:n},o.a.createElement(m.d,null,o.a.createElement(u.b,null,o.a.createElement(m.b,null,o.a.createElement(f.a,{zIndex:1,position:"relative"},o.a.createElement(Y,{to:K,Component:te}),o.a.createElement(Y,{to:G,Component:ee})),o.a.createElement(ne,{onClick:n}))))))},re=n(194),ce=n(195),oe=n(197),le=n(196),ie=function(e){var t=e.isSidebarOpen,n=e.onShowSidebar;return o.a.createElement(re.a,null,o.a.createElement(p.a,{flex:1},t||o.a.createElement(ce.a,{icon:o.a.createElement(le.a,{w:8,h:8}),colorScheme:"whatsapp",variant:"outline",onClick:n,"aria-label":""})),o.a.createElement(H.a,{flex:2.5,h:"3em"},o.a.createElement(oe.a,{color:"green",fontSize:"lg"},"Pushbullet PWA (unofficial)")),o.a.createElement(p.a,{flex:1}))},se=n(95);var ue=function(){var e=W().mainUi,t=z(),n=t.onSidebarShow,a=t.onSidebarHide,r=t.initApp;return Object(c.useEffect)((function(){r()}),[]),o.a.createElement(se.a,null,o.a.createElement(ae,{isSidebarOpen:e.isSidebarOpen,onSidebarHide:a}),o.a.createElement(p.a,null,o.a.createElement(ie,{onShowSidebar:n,isSidebarOpen:e.isSidebarOpen})),o.a.createElement(X.c,null,Q.map((function(e,t){return o.a.createElement(X.a,{key:"route_"+t,path:e.path,exact:e.exact,component:e.comp})}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var me=n(49),fe=n(199),pe=n(198),de=Object(pe.a)({sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"}),he=Object(fe.a)({breakpoints:de}),Ee=n(202),be=Object(me.d)(P);i.a.render(o.a.createElement(E.a,{value:be},o.a.createElement(Ee.a,{theme:he},o.a.createElement(o.a.StrictMode,null,o.a.createElement(ue,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[145,1,2]]]);
//# sourceMappingURL=main.d4b96ed8.chunk.js.map